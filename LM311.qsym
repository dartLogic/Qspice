ÿØÿÛ«symbol LM311
  «type: X»
  «description: Comparator-balance strobe»
  «library file: |.SUBCKT LM311 IN+ IN- VCC+ VCC- STROB COL_OUT EMIT_OUT\nX_U4 CMP N840186 Prop_Delay\nX_U2 IN-BUFF IN+BUFF INRANGE V+_BUFFER V-_BUFFER INPUTRANGE\nX_U5 COL_OUT EMIT_OUT N21237 INRANGE 0 STROB V+_BUFFER V-_BUFFER VCC+ N884250 Output_Stage\nX_U6 VCC+ V+_BUFFER VCC- V-_BUFFER Supply_Buffer\nX_U3 N785573 IN-BUFF CMP V+_BUFFER V-_BUFFER 0 HPA_COMPHYS\nI_IS N843683 VCC- DC 5.1m\nX_U7 N21237 0 V+_BUFFER V-_BUFFER Supply_Enable\nX_U1 IN+ IN+BUFF IN- IN-BUFF Input_Buffer\nI_IBP IN+ VCC- DC 100n\nI_IBN IN- VCC- DC 100n\nV_VOS N785573 IN+BUFF 2mV\nR_RIS N843683 VCC+ 1u TC=0,0\nC_CINPL VCC- IN+ 0.5p TC=0,0\nC_CINNL VCC- IN- 0.5p TC=0,0\nC_CINPH IN+ VCC+ 0.5p TC=0,0\nC_CINNH IN- VCC+ 0.5p TC=0,0\nR_RS N856907 CMP 50 TC=0,0\nR_RT 0 N856913 50 TC=0,0\nT_TPD N856907 0 N856913 0 Z0=50 TD=125n\nX_S1 CMP 0 N857434 N840186 Top_Level_S1\nX_S2 CMP 0 N857434 N856913 Top_Level_S2\nE_E1 N884250 V-_BUFFER N857434 V-_BUFFER 2\n.ENDS\n.SUBCKT Input_Buffer IN+ IN+_BUFF IN- IN-_BUFF\nX_U1 IN+ IN- IN+_BUFF IN-_BUFF SUPPLY_BUFFER1\n.ENDS\n.SUBCKT Supply_Enable EN POR V+_BUFFER V-_BUFFER\nX_U5 N16973 N20377 N16955 1V 0 VCC_Range\nX_U15 N20310 N16973 POR 1V 0 VCC_Range\nX_U13 V+_BUFFER V-_BUFFER N16973 1V 0 Difference\nV_VS_MIN_SET N20310 0 3.49\nV_VS_MAX_SET N20377 0 30.01\nV_VLOGIC 1V 0 1\nV_VS_MIN_SET1 N777117 0 3.49\nX_U16 N777117 N16973 N777171 1V 0 VCC_Range\nX_U17 N16955 N777171 EN 1V 0 ORGATE\n.ENDS\n.SUBCKT Supply_Buffer V+ V+_BUFFER V- V-_BUFFER\nX_U1 V+ V- V+_BUFFER V-_BUFFER SUPPLY_BUFFER1\n.ENDS\n.SUBCKT Output_Stage COL_OUT EMIT_OUT EN IN_RANGE POR STROB V+_BUFFER V-_BUFFER VCC+ VIN\nX_SMID CONTROL_MID 0 N778484 MID Output_Stage_SMID\nX_U3 VIN DS_OUT V+_BUFFER V-_BUFFER VCC+ VSS_NEW DIGLEVSHIFT\nX_U7 MID V+_BUFFER V-_BUFFER MID_SUPPLY\nV_VLOGIC 1V 0 1\nV_V1 VCC+ VSS_NEW 1\nX_SHIZ CONTROL_HIZ 0 N778484 N778496 Output_Stage_SHIZ\nX_U8 POR IN_RANGE EN EN CONTROL_HIZ 1V 0 4ORGATE\nX_U9 CONTROL_HIZ N789513 1V 0 INVERTER\nX_U10 N789513 POR CONTROL_MID 1V 0 ORGATE\nL_L1 N778484 COL_OUT 1n\nC_COUTH COL_OUT VCC+ 0.045p TC=0,0\nC_COUTL EMIT_OUT COL_OUT 0.045p TC=0,0\nX_SVOL CTRL_OUT VSS_NEW EMIT_OUT N850209 Output_Stage_SVOL\nR_ROUTL N850209 N778496 150 TC=0,0\nX_H1 V+_BUFFER N857381 N864891 VSS_NEW Output_Stage_H1\nX_U11 N864896 DS_OUT CTRL_OUT VCC+ VSS_NEW ORGATE\nX_U1 N863109 STROB N864245 V+_BUFFER V-_BUFFER VINRANGE_393\nV_VCMPS N863109 V+_BUFFER 0.01\nX_U12 STROB N864069 N864233 V+_BUFFER V-_BUFFER VINRANGE_393\nV_VCMPS1 N864069 V-_BUFFER -0.01\nX_U13 N864245 N864233 N864257 VCC+ VSS_NEW ORGATE\nX_U14 N864257 N864882 VCC+ VSS_NEW INVERTER\nX_U15 N864891 N864882 N864896 VCC+ VSS_NEW ANDGATE\nR_RS1 N857381 STROB 500 TC=0,0\n.ENDS\n.SUBCKT INPUTRANGE INN INP INRANGE V+_BUFFER V-_BUFFER\nV_VCMNP N20415 V-_BUFFER 0.49\nV_VCMPN N32047 V+_BUFFER -1.49\nX_U1 N20155 INP N20826 V+_BUFFER V-_BUFFER VINRANGE_393\nV_VCMPP N20155 V+_BUFFER -1.49\nV_VCMNN N20539 V-_BUFFER 0.49\nX_U21 N32047 INN N20833 V+_BUFFER V-_BUFFER VINRANGE_393\nX_U22 INP N20415 N20840 V+_BUFFER V-_BUFFER VINRANGE_393\nX_U23 INN N20539 N20531 V+_BUFFER V-_BUFFER VINRANGE_393\nX_U24 N20826 N20833 N20840 N20531 INRANGE V+_BUFFER V-_BUFFER 4ORGATE\n.ENDS\n.SUBCKT Prop_Delay VIN VOUT\nT_TPD N03175 0 VOUT 0 Z0=50 TD=115n\nR_RT 0 VOUT 50 TC=0,0\nR_RS N03175 VIN 50 TC=0,0\n.ENDS\n.subckt Top_Level_S1 1 2 3 4\nS_S1 3 4 1 2 _S1\nRS_S1 1 2 1G\n.MODEL _S1 VSWITCH Roff=1e6 Ron=1.0 Voff=0.0V Von=1.0V\n.ends Top_Level_S1\n.subckt Top_Level_S2 1 2 3 4\nS_S2 3 4 1 2 _S2\nRS_S2 1 2 1G\n.MODEL _S2 VSWITCH Roff=1e6 Ron=1.0 Voff=1 Von=0\n.ends Top_Level_S2\n.subckt Output_Stage_SMID 1 2 3 4\nS_SMID 3 4 1 2 _SMID\nRS_SMID 1 2 1G\n.MODEL _SMID VSWITCH Roff=1e12 Ron=1.0 Voff=1 Von=0\n.ends Output_Stage_SMID\n.subckt Output_Stage_SHIZ 1 2 3 4\nS_SHIZ 3 4 1 2 _SHIZ\nRS_SHIZ 1 2 1G\n.MODEL _SHIZ VSWITCH Roff=1e12 Ron=1.0 Voff=1 Von=0\n.ends Output_Stage_SHIZ\n.subckt Output_Stage_SVOL 1 2 3 4\nS_SVOL 3 4 1 2 _SVOL\nRS_SVOL 1 2 1G\n.MODEL _SVOL VSWITCH Roff=1e12 Ron=1.0 Voff=1 Von=0\n.ends Output_Stage_SVOL\n.subckt Output_Stage_H1 1 2 3 4\nH_H1 3 4 VH_H1 250\nVH_H1 1 2 0V\n.ends Output_Stage_H1\n.SUBCKT ANDGATE 1 2 3 VDD VSS\nE1 4 0 VALUE = { IF( ((V(1)> (V(VDD)+V(VSS))/2 ) & (V(2)> (V(VDD)+V(VSS))/2 )), V(VDD), V(VSS) ) }\nR1 4 3 1\nC1 3 0 1e-12\n.ENDS\n.SUBCKT HPA_COMPHYS INP INN OUT_OUT VDD VSS VHYS\nEVMID VMID 0 VALUE = { ( V(VDD) + V(VSS) )/2 }\nEVH VH 0 VALUE = { ( V(VHYS)/2) }\nEINNNEW INNNEW 0 VALUE = { IF( ( V(OUT_OUT) < V(VMID) ),(V(INN) + (V(VH))),( V(INN) - V(VH) ) ) }\nEOUT OUT 0 VALUE = { IF( ( V(INP) > V(INNNEW) ), V(VDD), V(VSS) ) }\nR1 OUT OUT_OUT 1\nC1 OUT_OUT 0 1e-12\n.ENDS\n.SUBCKT DIGLEVSHIFT 1 2 VDD_OLD VSS_OLD VDD_NEW VSS_NEW\nE1 3 0 VALUE = { IF( V(1) < 1, V(VSS_NEW), V(VDD_NEW) ) }\nR1 3 2 1\n.ENDS\n.SUBCKT ENABLE_LOGIC 1 2 OUT VDD VSS\nEVMID VMID 0 VALUE = { ( V(VDD) + V(VSS) )/2 }\nEOUT OUT 0 VALUE = { IF( ( V(1) > V(VMID) ), V(2), V(VSS) ) }\nR1 OUT 2 1\nC1 2 0 1e-12\n.ENDS\n.SUBCKT ENABLE_TLV7021 1 2 3 OUT VDD VSS\nEVMID VMID 0 VALUE = { ( V(VDD) + V(VSS) )/2 }\nEOUT OUT2 0 VALUE = { IF( ( V(1) > V(VMID) ), V(2), V(3) ) }\nR1 OUT2 OUT 1\nC1 OUT 0 1e-12\n.ENDS\n.SUBCKT INNNEWPOR 1 2 3 OUT VDD VSS\nEVMID VMID 0 VALUE = { ( V(VDD) + V(VSS) )/2 }\nEOUT OUT2 0 VALUE = { IF( ( V(1) < V(VMID) ), V(VSS), V(VDD) ) }\nR1 OUT2 OUT 1\nC1 OUT 0 1e-12\n.ENDS\n.SUBCKT INPNEWPOR 1 2 3 OUT VDD VSS\nEVMID VMID 0 VALUE = { ( V(VDD) + V(VSS) )/2 }\nEOUT OUT2 0 VALUE = { IF( ( V(1) < V(VMID) ), V(VDD), V(VSS) ) }\nR1 OUT2 OUT 1\nC1 OUT 0 1e-12\n.ENDS\n.SUBCKT VIN_INV 1 2 VDD VSS\nE2 2 0 VALUE = { IF( V(1)> (V(VDD)+V(VSS))/2, V(VSS), V(VDD) ) }\nC1 2 0 1e-12\n.ENDS\n.SUBCKT INVERTER 1 2 VDD VSS\nE2 2 0 VALUE = { IF( V(1)> (V(VDD)+V(VSS))/2, V(VSS), V(VDD) ) }\nC1 1 0 1e-12\n.ENDS\n.SUBCKT MID_SUPPLY OUT VDD VSS\nEVMID VMID 0 VALUE = { ( V(VDD) + V(VSS) )/2 }\nEOUT OUT 0 VALUE = {V(VMID)}\n.ENDS\n.SUBCKT ORGATE 1 2 3 VDD VSS\nE1 4 0 VALUE = { IF( ((V(1)< (V(VDD)+V(VSS))/2 ) & (V(2)< (V(VDD)+V(VSS))/2 )), V(VSS), V(VDD) ) }\nR1 4 3 1\nC1 3 0 1e-12\n.ENDS\n.SUBCKT NOR_GATE 1 2 OUT VDD VSS\nEOUT OUT 0 VALUE = { IF( ((V(1)< (V(VDD)+V(VSS))/2 ) & (V(2)< (V(VDD)+V(VSS))/2 )), V(VDD), V(VSS) ) }\nR1 OUT 2 1\nC1 OUT 0 1e-12\n.ENDS\n.SUBCKT ORGATE1701 1 2 3 4 OUT VDD VSS\nEOUT OUT 0 VALUE = { IF( ((V(1)< (V(VDD)+V(VSS))/2 ) & (V(2)< (V(VDD)+V(VSS))/2 )), V(3), V(4) ) }\n.ENDS\n.SUBCKT PORCHECK 1 2 OUT VDD VSS\nEOUT OUT 0 VALUE = { IF( ( V(2) < V(1) ), V(VSS), V(VDD) ) }\nR1 OUT 2 1\nC1 2 0 1e-12\n.ENDS\n.SUBCKT Difference 1 2 OUT VDD VSS\nEOUT OUT1 0 VALUE = { V(1)- V(2)}\nR1 OUT1 OUT 1\n.ENDS\n.SUBCKT SUPPLY_BUFFER1 1 2 VDD_NEW VSS_NEW\nEVDD_NEW VDD_NEW 0 VALUE = {V(1)}\nEVSS_NEW VSS_NEW 0 VALUE = {V(2)}\n.ENDS\n.SUBCKT VCC_Range 1 2 OUT VDD VSS\nEOUT OUT2 0 VALUE = { IF( ( V(1) >= V(2) ), V(VDD), V(VSS) ) }\nR1 OUT OUT2 1\nC1 OUT 0 1e-12\n.ENDS\n.SUBCKT VINRANGE_393 1 2 OUT VDD VSS\nEOUT OUT2 0 VALUE = { IF( ( V(1) >= V(2) ), V(VSS), V(VDD) ) }\nR1 OUT2 OUT 1\nC1 OUT 0 1e-12\n.ENDS\n.subckt SHUTDOWNCURRENT SHUTDOWN 2 3 OUT VDD VSS\nEOUT OUT2 0 VALUE = {IF ((V(SHUTDOWN) > (V(VSS) + 0.4)), V(2), V(3))}\nR1 OUT OUT2 1\nC1 OUT 0 1e-12\n.ENDS\n.subckt SHUTDOWNOUTPUT DISABLE ENABLE SHUTDOWN VSS OUT\nEOUT OUT 0 VALUE = {IF ((V(SHUTDOWN) <= (V(VSS) + 0.4)), V(DISABLE), V(ENABLE))}\nC1 OUT 0 1e-12\n.ENDS\n.SUBCKT NORGATE 1 2 OUT VDD VSS\nEOUT OUT2 0 VALUE = { IF( ((V(1)< (V(VDD)+V(VSS))/2 ) & (V(2)< (V(VDD)+V(VSS))/2 )), V(VDD), V(VSS) ) }\nR1 OUT2 OUT 1\nC1 OUT 0 1e-12\n.ENDS\n.MODEL NPN1 NPN LEVEL=1 IS=1E-16 RB=850 RC=1 TF=5n\n.MODEL PNP1 PNP LEVEL=1 IS=1E-16 RB=850 RC=1 TF=5n\n.SUBCKT LE_HYST LEHYST V- V-_BUF V+_BUF LATCH_OUT HYST_OUT\nV_VLATCH N00729 V- 1.25\nR_RPU N00729 LEHYST 40k TC=0,0\nE_EIN VLE V-_BUF LEHYST V- 1\nR_R1 V-_BUF LATCH_OUT 1k TC=0,0\nR_R2 V-_BUF VLE 1k TC=0,0\nR_R3 V-_BUF HYST_OUT 1k TC=0,0\nE_ELATCH LATCH_OUT V-_BUF VALUE = { IF( V(VLE)<= 0.4, 0, 5 ) }\nE_EHYST HYST_OUT V-_BUF TABLE {V(VLE)} = (0.4,0) (0.5,0.0636) (0.55,0.0636) (0.6,0.0636) (0.65,0.0636) (0.7,0.0635) (0.71,0.0636) (0.72,0.0635) (0.73,0.0636) (0.74,0.0634) (0.75,0.0635) (0.76,0.0638) (0.77,0.0637) (0.78,0.0637) (0.79,0.0637) (0.8,0.0636) (0.81,0.0636) (0.82,0.0636) (0.83,0.0636) (0.84,0.0425) (0.85,0.0411) (0.86,0.0398) (0.87,0.0386) (0.88,0.0371) (0.89,0.0359) (0.9,0.0347) (0.91,0.0334) (0.92,0.032) (0.93,0.0309) (0.94,0.0296) (1,0.0223) (1.05,0.0164) (1.1,0.0108) (1.15,0.0056) (1.2,0.0007) (1.25,0)\n.ENDS\n.SUBCKT IS_SET VCC VEE DISABLE VIEN VIDIS PBAD\nGIS VCC1 VEE VALUE = { IF ( (V(PBAD) > 2.5V) , 1u , IF ( V(DISABLE) > 2.5, V(VIEN), V(VIDIS) ) ) }\nRIS VCC1 VCC 1\n.ENDS\n.SUBCKT 4ORGATE 1 2 3 4 5 VDD VSS\nE1 6 0 VALUE = { IF( ((V(1)> (V(VDD)+V(VSS))/2 ) | (V(2)> (V(VDD)+V(VSS))/2 ) | (V(3)> (V(VDD)+V(VSS))/2 ) | (V(4)> (V(VDD)+V(VSS))/2 )), V(VDD), V(VSS) ) }\nR1 5 6 1\n.ENDS»
  «shorted pins: false»
  «line (-150,-200) (-50,-200) 0 0 0x1000000 -1 -1»
  «line (-150,200) (-50,200) 0 0 0x1000000 -1 -1»
  «line (-100,250) (-100,150) 0 0 0x1000000 -1 -1»
  «line (-200,-450) (-200,450) 0 0 0x1000000 -1 -1»
  «line (-200,450) (400,0) 0 0 0x1000000 -1 -1»
  «line (400,0) (-200,-450) 0 0 0x1000000 -1 -1»
  «line (50,300) (110,300) 0 0 0x1000000 -1 -1»
  «line (80,330) (80,270) 0 0 0x1000000 -1 -1»
  «line (50,-300) (110,-300) 0 0 0x1000000 -1 -1»
  «line (700,150) (600,50) 0 0 0x1000000 -1 -1»
  «line (600,-50) (700,-150) 0 0 0x1000000 -1 -1»
  «line (580,0) (450,0) 0 0 0x1000000 -1 -1»
  «line (700,-200) (700,-150) 0 0 0x1000000 -1 -1»
  «line (700,150) (700,200) 0 0 0x1000000 -1 -1»
  «line (200,150) (200,200) 0 0 0x1000000 -1 -1»
  «rect (580,100) (600,-100) 0 0 0 0x1000000 0x1000000 -1 0 -1»
  «ellipse (400,25) (450,-25) 0 0 0 0x1000000 0x1000000 -1 -1»
  «triangle (700,-150) (665,-95) (645,-115) 0 0 0x1000000 0x3000000 -1 -1»
  «text (300,-250) 1 15 0 0x1000000 -1 -1 "X1"»
  «text (200,-400) 1 7 0 0x1000000 -1 -1 "LM311"»
  «pin (-200,200) (20,0) 1 15 0 0x0 -1 "IN+"»
  «pin (-200,-200) (20,0) 1 15 0 0x0 -1 "IN-"»
  «pin (0,300) (20,0) 1 15 0 0x0 -1 "VCC+"»
  «pin (0,-300) (-20,0) 1 15 0 0x0 -1 "VCC-"»
  «pin (200,200) (0,0) 1 0 0 0x0 -1 "STROB"»
  «pin (700,200) (0,0) 1 0 0 0x0 -1 "COL_OUT"»
  «pin (700,-200) (0,0) 1 0 0 0x0 -1 "EMIT_OUT"»
»
